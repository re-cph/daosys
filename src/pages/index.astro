---
import Layout from "../layouts/Layout.astro";
import shapesAllTogether from "../images/alltogether.png";
import bands from "../data/bands.mjs";
import Band from "../components/band.astro";
---

<Layout>
  <!-- Hero -->
  <div class="bg-blue-lighter">
    <div
      class="container mx-auto text-white md:grid grid-cols-12 gap-x-4 items-center h-screen"
    >
      <div class="col-span-5 pt-28">
        <h1 class="text-5xl md:text-6xl">Risk less, venture more</h1>
        <p class="text-xl md:text-2xl mt-6">
          World&rsquor;s most effective decentralized autonomous organization
        </p>
        <div
          class="flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-8 mt-8"
        >
          <div class="flex">
            <a
              href=""
              class="p-4 px-6 border border-blue-dark bg-blue-dark rounded-full no-underline text-sm"
            >
              Join our discord
            </a>
          </div>

          <div class="flex">
            <a
              href=""
              class="p-4 px-6 border border-blue-dark hover:bg-blue-dark rounded-full no-underline text-sm"
            >
              Download Yellowpaper
            </a>
          </div>
        </div>
      </div>
      <div class="col-span-7 md:relative md:h-full">
        <img
          src={shapesAllTogether}
          class="md:absolute md:-bottom-28 md:w-full"
          id="heroGraphic"
        />
      </div>
    </div>
  </div>
  <!-- Text section -->
  <div class="container mx-auto py-40 text-splash">
    <p>
      DAOs are organizations that run completely on the blockchain and are
      governed by token holders. They are fully autonomous, transparent and
      decentralized.
    </p>
    <p class="mt-12">
      DAOSYS harnesses the power of DAOs through our Bitcoin-level security and
      a self-sovereign treasury. Unlike other decentralized organizations,
      DAOSYS is free of treasury governance issues. Welcome to 4-D finance.
      Risk-free deployment of capital.
    </p>
  </div>
  {bands.map((band, index) => <Band item={band} index={index} />)}
</Layout>

<script hoist type="module">
  // PARALLAX
  function parallax() {
    var scrolled = document.documentElement["scrollTop"];
    document.getElementById("heroGraphic").style.transform =
      "translateY(" + -(scrolled * 0.01) + "rem)";
  }
  window.onscroll = function () {
    parallax();
  };

  // Load animation vids while scrolling
  function handleIntersection(entries) {
    entries.map((entry) => {
      if (entry.isIntersecting) {
        entry.target.src = entry.target.dataset.src;
        // entry.target.classList.add(â€˜loaded)
        observer.unobserve(entry.target);
      }
    });
  }

  const target = document.querySelectorAll(".band-video");
  const observer = new IntersectionObserver(handleIntersection);
  target.forEach((element) => observer.observe(element));
</script>
